<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nim. -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
<link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QQQEwksSS9ZWwAAAk1JREFUWMPtll2ITVEUx39nn/O7Y5qR8f05wtCUUr6ZIS++8pEnkZInPImneaCQ5METNdOkeFBKUhMPRIkHKfEuUZSUlGlKPN2TrgfncpvmnntnmlEyq1Z7t89/rf9a6+y99oZxGZf/XeIq61EdtgKXgdXA0xrYAvBjOIF1AI9zvjcC74BSpndrJPkBWDScTF8Aa4E3wDlgHbASaANmVqlcCnwHvgDvgVfAJ+AikAAvgfVZwLnSVZHZaOuKoQi3ZOMi4NkYkpe1p4J7A8BpYAD49hfIy/oqG0+hLomiKP2L5L+1ubn5115S+3OAn4EnwBlgMzCjyt6ZAnQCJ4A7wOs88iRJHvw50HoujuPBoCKwHWiosy8MdfZnAdcHk8dxXFJ3VQbQlCTJvRBCGdRbD4M6uc5glpY3eAihpN5S5w12diSEcCCEcKUO4ljdr15T76ur1FDDLIQQ3qv71EdDOe3Kxj3leRXyk+pxdWnFWod6Wt2bY3de3aSuUHcPBVimHs7mK9WrmeOF6lR1o9qnzskh2ar2qm1qizpfXaPeVGdlmGN5pb09qMxz1Xb1kLqgzn1RyH7JUXW52lr5e/Kqi9qpto7V1atuUzfnARrV7jEib1T76gG2qxdGmXyiekkt1GswPTtek0aBfJp6YySGBfWg2tPQ0FAYgf1stUfdmdcjarbYJEniKIq6gY/Aw+zWHAC+p2labGpqiorFYgGYCEzN7oQdQClN07O1/EfDyGgC0ALMBdYAi4FyK+4H3gLPsxfR1zRNi+NP7nH5J+QntnXe5B5mpfQAAAAASUVORK5CYII=">

<!-- Google fonts -->
<link href='https://fonts.googleapis.com/css?family=Lato:400,600,900' rel='stylesheet' type='text/css'/>
<link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>

<!-- CSS -->
<title>anonimongo/gridfs</title>
<link rel="stylesheet" type="text/css" href="../nimdoc.out.css">

<script type="text/javascript" src="../dochack.js"></script>

<script type="text/javascript">
function main() {
  var pragmaDots = document.getElementsByClassName("pragmadots");
  for (var i = 0; i < pragmaDots.length; i++) {
    pragmaDots[i].onclick = function(event) {
      // Hide tease
      event.target.parentNode.style.display = "none";
      // Show actual
      event.target.parentNode.nextElementSibling.style.display = "inline";
    }
  }

  const toggleSwitch = document.querySelector('.theme-switch input[type="checkbox"]');
  function switchTheme(e) {
      if (e.target.checked) {
          document.documentElement.setAttribute('data-theme', 'dark');
          localStorage.setItem('theme', 'dark');
      } else {
          document.documentElement.setAttribute('data-theme', 'light');
          localStorage.setItem('theme', 'light');
      }
  }

  toggleSwitch.addEventListener('change', switchTheme, false);

  const currentTheme = localStorage.getItem('theme') ? localStorage.getItem('theme') : null;
  if (currentTheme) {
    document.documentElement.setAttribute('data-theme', currentTheme);

    if (currentTheme === 'dark') {
      toggleSwitch.checked = true;
    }
  }
}
</script>

</head>
<body onload="main()">
<div class="document" id="documentId">
  <div class="container">
    <h1 class="title">anonimongo/gridfs</h1>
    <div class="row">
  <div class="three columns">
  <div class="theme-switch-wrapper">
    <label class="theme-switch" for="checkbox">
      <input type="checkbox" id="checkbox" />
      <div class="slider round"></div>
    </label>
    &nbsp;&nbsp;&nbsp; <em>Dark Mode</em>
  </div>
  <div id="global-links">
    <ul class="simple">
    <li>
      <a href="../theindex.html">Index</a>
    </li>
    </ul>
  </div>
  <div id="searchInputDiv">
    Search: <input type="text" id="searchInput"
      onkeyup="search()" />
  </div>
  <div>
    Group by:
    <select onchange="groupBy(this.value)">
      <option value="section">Section</option>
      <option value="type">Type</option>
    </select>
  </div>
  <ul class="simple simple-toc" id="toc-list">
<li>
  <a class="reference reference-toplevel" href="#6" id="56">Imports</a>
  <ul class="simple simple-toc-section">
    
  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#7" id="57">Types</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#GridStream"
    title="GridStream[TheSocket] {..} = ref object of RootObj
  grid: GridFS[TheSocket]
  filename: string
  buffered: bool
  buffer: seq[BsonDocument]
  isClosed: bool
  info {.bsonExport.}: FileInfo
  data {.bsonExport.}: DataStream
  pos: int64
  point: int"><wbr />Grid<wbr />Stream<span class="attachedType"></span></a></li>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#12" id="62">Procs</a>
  <ul class="simple simple-toc-section">
      <ul class="simple nested-toc-section">createBucket
      <li><a class="reference" href="#createBucket%2CDatabase%5BSocket%5D%2Cstring"
    title="createBucket(db: Database[Socket]; name = &quot;fs&quot;; chunkSize = defaultChunkSize): GridFS[
    Socket]">createBucket,Database[Socket],string<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#createBucket%2CDatabase%5BAsyncSocket%5D%2Cstring"
    title="createBucket(db: Database[AsyncSocket]; name = &quot;fs&quot;;
             chunkSize = defaultChunkSize): Future[GridFS[AsyncSocket]]">createBucket,Database[AsyncSocket],string<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#createBucket%2CCollection%5BSocket%5D%2Cstring"
    title="createBucket(c: Collection[Socket]; name = &quot;fs&quot;; chunkSize = defaultChunkSize): GridFS[
    Socket]">createBucket,Collection[Socket],string<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#createBucket%2CCollection%5BAsyncSocket%5D%2Cstring"
    title="createBucket(c: Collection[AsyncSocket]; name = &quot;fs&quot;;
             chunkSize = defaultChunkSize): Future[GridFS[AsyncSocket]]">createBucket,Collection[AsyncSocket],string<span class="attachedType"></span></a></li>

  </ul>
  <ul class="simple nested-toc-section">drop
      <li><a class="reference" href="#drop%2CGridFS%5BSocket%5D"
    title="drop(g: GridFS[Socket]): WriteResult">drop,GridFS[Socket]<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#drop%2CGridFS%5BAsyncSocket%5D"
    title="drop(g: GridFS[AsyncSocket]): Future[WriteResult]">drop,GridFS[AsyncSocket]<span class="attachedType"></span></a></li>

  </ul>
  <ul class="simple nested-toc-section">close
      <li><a class="reference" href="#close%2CGridStream"
    title="close(gs: GridStream)">close,GridStream<span class="attachedType"></span></a></li>

  </ul>
  <ul class="simple nested-toc-section">readAll
      <li><a class="reference" href="#readAll%2CGridStream%5BSocket%5D"
    title="readAll(gs: GridStream[Socket]): string">readAll,GridStream[Socket]<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#readAll%2CGridStream%5BAsyncSocket%5D"
    title="readAll(gs: GridStream[AsyncSocket]): Future[string]">readAll,GridStream[AsyncSocket]<span class="attachedType"></span></a></li>

  </ul>
  <ul class="simple nested-toc-section">availableFiles
      <li><a class="reference" href="#availableFiles%2CGridFS%5BSocket%5D"
    title="availableFiles(g: GridFS[Socket]; query = bson()): int">availableFiles,GridFS[Socket]<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#availableFiles%2CGridFS%5BAsyncSocket%5D"
    title="availableFiles(g: GridFS[AsyncSocket]; query = bson()): Future[int]">availableFiles,GridFS[AsyncSocket]<span class="attachedType"></span></a></li>

  </ul>
  <ul class="simple nested-toc-section">uploadFile
      <li><a class="reference" href="#uploadFile%2CGridFS%5BSocket%5D%2CAsyncFile%2Cstring%2Cint32"
    title="uploadFile(g: GridFS[Socket]; f: AsyncFile; filename = &quot;&quot;; chunk = 0&apos;i32;
           metadata = bson()): WriteResult">uploadFile,GridFS[Socket],AsyncFile,string,int32<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#uploadFile%2CGridFS%5BAsyncSocket%5D%2CAsyncFile%2Cstring%2Cint32"
    title="uploadFile(g: GridFS[AsyncSocket]; f: AsyncFile; filename = &quot;&quot;; chunk = 0&apos;i32;
           metadata = bson()): Future[WriteResult]">uploadFile,GridFS[AsyncSocket],AsyncFile,string,int32<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#uploadFile%2CGridFS%5BSocket%5D%2Cstring%2Cint32"
    title="uploadFile(g: GridFS[Socket]; filename: string; chunk = 0&apos;i32; metadata = bson()): WriteResult">uploadFile,GridFS[Socket],string,int32<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#uploadFile%2CGridFS%5BAsyncSocket%5D%2Cstring%2Cint32"
    title="uploadFile(g: GridFS[AsyncSocket]; filename: string; chunk = 0&apos;i32;
           metadata = bson()): Future[WriteResult]">uploadFile,GridFS[AsyncSocket],string,int32<span class="attachedType"></span></a></li>

  </ul>
  <ul class="simple nested-toc-section">listFileNames
      <li><a class="reference" href="#listFileNames%2CGridFS%5BSocket%5D"
    title="listFileNames(g: GridFS[Socket]; matcher = &quot;all&quot;.toBson; sort = bson()): seq[
    string]">listFileNames,GridFS[Socket]<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#listFileNames%2CGridFS%5BAsyncSocket%5D"
    title="listFileNames(g: GridFS[AsyncSocket]; matcher = &quot;all&quot;.toBson; sort = bson()): Future[
    seq[string]]">listFileNames,GridFS[AsyncSocket]<span class="attachedType"></span></a></li>

  </ul>
  <ul class="simple nested-toc-section">downloadAs
      <li><a class="reference" href="#downloadAs%2CGridFS%5BSocket%5D%2Cstring%2Cstring"
    title="downloadAs(g: GridFS[Socket]; source, target: string): WriteResult">downloadAs,GridFS[Socket],string,string<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#downloadAs%2CGridFS%5BAsyncSocket%5D%2Cstring%2Cstring"
    title="downloadAs(g: GridFS[AsyncSocket]; source, target: string): Future[WriteResult]">downloadAs,GridFS[AsyncSocket],string,string<span class="attachedType"></span></a></li>

  </ul>
  <ul class="simple nested-toc-section">read
      <li><a class="reference" href="#read%2CGridStream%5BSocket%5D%2Cint64"
    title="read(gs: GridStream[Socket]; length = 0&apos;i64): string">read,GridStream[Socket],int64<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#read%2CGridStream%5BAsyncSocket%5D%2Cint64"
    title="read(gs: GridStream[AsyncSocket]; length = 0&apos;i64): Future[string]">read,GridStream[AsyncSocket],int64<span class="attachedType"></span></a></li>

  </ul>
  <ul class="simple nested-toc-section">setPosition
      <li><a class="reference" href="#setPosition%2CGridStream%5BSocket%5D%2Cint64"
    title="setPosition(gs: GridStream[Socket]; pos: int64; chunkn = -1)">setPosition,GridStream[Socket],int64<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#setPosition%2CGridStream%5BAsyncSocket%5D%2Cint64"
    title="setPosition(gs: GridStream[AsyncSocket]; pos: int64; chunkn = -1): owned(
    Future[void])">setPosition,GridStream[AsyncSocket],int64<span class="attachedType"></span></a></li>

  </ul>
  <ul class="simple nested-toc-section">getStream
      <li><a class="reference" href="#getStream%2CGridFS%5BSocket%5D%2CBsonBase"
    title="getStream(g: GridFS[Socket]; matcher: BsonBase; sort = bson(); buffered = false): GridStream[
    Socket]">getStream,GridFS[Socket],BsonBase<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#getStream%2CGridFS%5BAsyncSocket%5D%2CBsonBase"
    title="getStream(g: GridFS[AsyncSocket]; matcher: BsonBase; sort = bson();
          buffered = false): Future[GridStream[AsyncSocket]]">getStream,GridFS[AsyncSocket],BsonBase<span class="attachedType"></span></a></li>

  </ul>
  <ul class="simple nested-toc-section">downloadFile
      <li><a class="reference" href="#downloadFile%2CGridFS%5BSocket%5D%2CAsyncFile%2Cstring"
    title="downloadFile(g: GridFS[Socket]; f: AsyncFile; filename = &quot;&quot;): WriteResult">downloadFile,GridFS[Socket],AsyncFile,string<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#downloadFile%2CGridFS%5BAsyncSocket%5D%2CAsyncFile%2Cstring"
    title="downloadFile(g: GridFS[AsyncSocket]; f: AsyncFile; filename = &quot;&quot;): Future[
    WriteResult]">downloadFile,GridFS[AsyncSocket],AsyncFile,string<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#downloadFile%2CGridFS%5BSocket%5D%2Cstring"
    title="downloadFile(bucket: GridFS[Socket]; filename: string): WriteResult">downloadFile,GridFS[Socket],string<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#downloadFile%2CGridFS%5BAsyncSocket%5D%2Cstring"
    title="downloadFile(bucket: GridFS[AsyncSocket]; filename: string): Future[WriteResult]">downloadFile,GridFS[AsyncSocket],string<span class="attachedType"></span></a></li>

  </ul>
  <ul class="simple nested-toc-section">removeFile
      <li><a class="reference" href="#removeFile%2CGridFS%5BSocket%5D"
    title="removeFile(g: GridFS[Socket]; matcher = &quot;all&quot;.toBson; one = false): WriteResult">removeFile,GridFS[Socket]<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#removeFile%2CGridFS%5BAsyncSocket%5D"
    title="removeFile(g: GridFS[AsyncSocket]; matcher = &quot;all&quot;.toBson; one = false): Future[
    WriteResult]">removeFile,GridFS[AsyncSocket]<span class="attachedType"></span></a></li>

  </ul>
  <ul class="simple nested-toc-section">getBucket
      <li><a class="reference" href="#getBucket%2CDatabase%5BSocket%5D%2Cstring"
    title="getBucket(db: Database[Socket]; name = &quot;fs&quot;): GridFS[Socket]">getBucket,Database[Socket],string<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#getBucket%2CDatabase%5BAsyncSocket%5D%2Cstring"
    title="getBucket(db: Database[AsyncSocket]; name = &quot;fs&quot;): Future[GridFS[AsyncSocket]]">getBucket,Database[AsyncSocket],string<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#getBucket%2CCollection%5BSocket%5D%2Cstring"
    title="getBucket(c: Collection[Socket]; name = &quot;fs&quot;): GridFS[Socket]">getBucket,Collection[Socket],string<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#getBucket%2CCollection%5BAsyncSocket%5D%2Cstring"
    title="getBucket(c: Collection[AsyncSocket]; name = &quot;fs&quot;): Future[GridFS[AsyncSocket]]">getBucket,Collection[AsyncSocket],string<span class="attachedType"></span></a></li>

  </ul>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#13" id="63">Funcs</a>
  <ul class="simple simple-toc-section">
      <ul class="simple nested-toc-section">kilobytes
      <li><a class="reference" href="#kilobytes%2CPositive"
    title="kilobytes(n: Positive): int">kilobytes,Positive<span class="attachedType"></span></a></li>

  </ul>
  <ul class="simple nested-toc-section">megabytes
      <li><a class="reference" href="#megabytes%2CPositive"
    title="megabytes(n: Positive): int">megabytes,Positive<span class="attachedType"></span></a></li>

  </ul>
  <ul class="simple nested-toc-section">fileSize
      <li><a class="reference" href="#fileSize%2CGridStream"
    title="fileSize(gs: GridStream): int64">fileSize,GridStream<span class="attachedType"></span></a></li>

  </ul>
  <ul class="simple nested-toc-section">getPosition
      <li><a class="reference" href="#getPosition%2CGridStream"
    title="getPosition(gs: GridStream): int64">getPosition,GridStream<span class="attachedType"></span></a></li>

  </ul>
  <ul class="simple nested-toc-section">metadata
      <li><a class="reference" href="#metadata%2CGridStream"
    title="metadata(gs: GridStream): BsonDocument">metadata,GridStream<span class="attachedType"></span></a></li>

  </ul>

  </ul>
</li>

</ul>

  </div>
  <div class="nine columns" id="content">
  <div id="tocRoot"></div>
  
  <p class="module-desc"></p>
  <div class="section" id="6">
<h1><a class="toc-backref" href="#6">Imports</a></h1>
<dl class="item">
<a class="reference external" href="dbops/admmgmt.html">dbops/admmgmt</a>, <a class="reference external" href="core/bson.html">core/bson</a>, <a class="reference external" href="core/types.html">core/types</a>, <a class="reference external" href="core/wire.html">core/wire</a>, <a class="reference external" href="core/utils.html">core/utils</a>, <a class="reference external" href="core/multisock.html">core/multisock</a>, <a class="reference external" href="collections.html">collections</a>
</dl></div>
<div class="section" id="7">
<h1><a class="toc-backref" href="#7">Types</a></h1>
<dl class="item">
<a id="GridStream"></a>
<dt><pre><a href="gridfs.html#GridStream"><span class="Identifier">GridStream</span></a><span class="Other">[</span><span class="Identifier">TheSocket</span><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"></span><span class="Other">.}</span></span> <span class="Other">=</span> <span class="Keyword">ref</span> <span class="Keyword">object</span> <span class="Keyword">of</span> <span class="Identifier">RootObj</span>
  <span class="Identifier">grid</span><span class="Other">:</span> <a href="core/types.html#GridFS"><span class="Identifier">GridFS</span></a><span class="Other">[</span><span class="Identifier">TheSocket</span><span class="Other">]</span>
  <span class="Identifier">filename</span><span class="Other">:</span> <span class="Identifier">string</span>
  <span class="Identifier">buffered</span><span class="Other">:</span> <span class="Identifier">bool</span>
  <span class="Identifier">buffer</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="core/bson.html#BsonDocument"><span class="Identifier">BsonDocument</span></a><span class="Other">]</span>
  <span class="Identifier">isClosed</span><span class="Other">:</span> <span class="Identifier">bool</span>
  <span class="Identifier">info</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">bsonExport</span></span><span class="Other">.}</span></span><span class="Other">:</span> <span class="Identifier">FileInfo</span>
  <span class="Identifier">data</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">bsonExport</span></span><span class="Other">.}</span></span><span class="Other">:</span> <span class="Identifier">DataStream</span>
  <span class="Identifier">pos</span><span class="Other">:</span> <span class="Identifier">int64</span>
  <span class="Identifier">point</span><span class="Other">:</span> <span class="Identifier">int</span>
</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/mashingan/anonimongo/tree/version-1-4/src/anonimongo/gridfs.nim#L344"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mashingan/anonimongo/edit/devel/src/anonimongo/gridfs.nim#L344" class="link-seesrc" target="_blank" >Edit</a>

</dd>

</dl></div>
<div class="section" id="12">
<h1><a class="toc-backref" href="#12">Procs</a></h1>
<dl class="item">
<a id="createBucket,Database[Socket],string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#createBucket%2CDatabase%5BSocket%5D%2Cstring"><span class="Identifier">createBucket</span></a><span class="Other">(</span><span class="Identifier">db</span><span class="Other">:</span> <a href="core/types.html#Database"><span class="Identifier">Database</span></a><span class="Other">[</span><span class="Identifier">Socket</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">name</span> <span class="Other">=</span> <span class="StringLit">&quot;fs&quot;</span><span class="Other">;</span>
                  <span class="Identifier">chunkSize</span> <span class="Other">=</span> <span class="Identifier">defaultChunkSize</span><span class="Other">)</span><span class="Other">:</span> <a href="core/types.html#GridFS"><span class="Identifier">GridFS</span></a><span class="Other">[</span><span class="Identifier">Socket</span><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span>
    <span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">KeyError</span><span class="Other">,</span> <span class="Identifier">MongoError</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">SnappyError</span><span class="Other">,</span>
    <span class="Identifier">ZippyError</span><span class="Other">,</span> <span class="Identifier">SslError</span><span class="Other">,</span> <span class="Identifier">TimeoutError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

By default it's using string &quot;fs&quot; for bucket name with default chunk size for file is 255 KB. The chunk size can be override for each uploadFile but by default will using the defined gridfs chunk size. As mentioned in Mongo spec, each collection has its own indexes i.e &lt;bucketname&gt;.files has index <tt class="docutils literal"><span class="pre">{ filename: 1, uploadData: 1 }</span></tt> &lt;bucketname&gt;.chunks has index <tt class="docutils literal"><span class="pre">{ files_id: 1, n: 1 }</span></tt>.
&nbsp;&nbsp;<a
href="https://github.com/mashingan/anonimongo/tree/version-1-4/src/anonimongo/core/multisock.nim#L125"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mashingan/anonimongo/edit/devel/src/anonimongo/core/multisock.nim#L125" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="createBucket,Database[AsyncSocket],string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#createBucket%2CDatabase%5BAsyncSocket%5D%2Cstring"><span class="Identifier">createBucket</span></a><span class="Other">(</span><span class="Identifier">db</span><span class="Other">:</span> <a href="core/types.html#Database"><span class="Identifier">Database</span></a><span class="Other">[</span><span class="Identifier">AsyncSocket</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">name</span> <span class="Other">=</span> <span class="StringLit">&quot;fs&quot;</span><span class="Other">;</span>
                  <span class="Identifier">chunkSize</span> <span class="Other">=</span> <span class="Identifier">defaultChunkSize</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span><a href="core/types.html#GridFS"><span class="Identifier">GridFS</span></a><span class="Other">[</span><span class="Identifier">AsyncSocket</span><span class="Other">]</span><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

By default it's using string &quot;fs&quot; for bucket name with default chunk size for file is 255 KB. The chunk size can be override for each uploadFile but by default will using the defined gridfs chunk size. As mentioned in Mongo spec, each collection has its own indexes i.e &lt;bucketname&gt;.files has index <tt class="docutils literal"><span class="pre">{ filename: 1, uploadData: 1 }</span></tt> &lt;bucketname&gt;.chunks has index <tt class="docutils literal"><span class="pre">{ files_id: 1, n: 1 }</span></tt>.
&nbsp;&nbsp;<a
href="https://github.com/mashingan/anonimongo/tree/version-1-4/src/anonimongo/gridfs.nim#L18"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mashingan/anonimongo/edit/devel/src/anonimongo/gridfs.nim#L18" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="createBucket,Collection[Socket],string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#createBucket%2CCollection%5BSocket%5D%2Cstring"><span class="Identifier">createBucket</span></a><span class="Other">(</span><span class="Identifier">c</span><span class="Other">:</span> <a href="core/types.html#Collection"><span class="Identifier">Collection</span></a><span class="Other">[</span><span class="Identifier">Socket</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">name</span> <span class="Other">=</span> <span class="StringLit">&quot;fs&quot;</span><span class="Other">;</span>
                  <span class="Identifier">chunkSize</span> <span class="Other">=</span> <span class="Identifier">defaultChunkSize</span><span class="Other">)</span><span class="Other">:</span> <a href="core/types.html#GridFS"><span class="Identifier">GridFS</span></a><span class="Other">[</span><span class="Identifier">Socket</span><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span>
    <span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">KeyError</span><span class="Other">,</span> <span class="Identifier">MongoError</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">SnappyError</span><span class="Other">,</span>
    <span class="Identifier">ZippyError</span><span class="Other">,</span> <span class="Identifier">SslError</span><span class="Other">,</span> <span class="Identifier">TimeoutError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Collection[AsyncSocket] version to create bucket. Offload the actual operation to gridfs.createBucket(database).
&nbsp;&nbsp;<a
href="https://github.com/mashingan/anonimongo/tree/version-1-4/src/anonimongo/core/multisock.nim#L125"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mashingan/anonimongo/edit/devel/src/anonimongo/core/multisock.nim#L125" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="createBucket,Collection[AsyncSocket],string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#createBucket%2CCollection%5BAsyncSocket%5D%2Cstring"><span class="Identifier">createBucket</span></a><span class="Other">(</span><span class="Identifier">c</span><span class="Other">:</span> <a href="core/types.html#Collection"><span class="Identifier">Collection</span></a><span class="Other">[</span><span class="Identifier">AsyncSocket</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">name</span> <span class="Other">=</span> <span class="StringLit">&quot;fs&quot;</span><span class="Other">;</span>
                  <span class="Identifier">chunkSize</span> <span class="Other">=</span> <span class="Identifier">defaultChunkSize</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span><a href="core/types.html#GridFS"><span class="Identifier">GridFS</span></a><span class="Other">[</span><span class="Identifier">AsyncSocket</span><span class="Other">]</span><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Collection[AsyncSocket] version to create bucket. Offload the actual operation to gridfs.createBucket(database).
&nbsp;&nbsp;<a
href="https://github.com/mashingan/anonimongo/tree/version-1-4/src/anonimongo/gridfs.nim#L48"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mashingan/anonimongo/edit/devel/src/anonimongo/gridfs.nim#L48" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="getBucket,Database[Socket],string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#getBucket%2CDatabase%5BSocket%5D%2Cstring"><span class="Identifier">getBucket</span></a><span class="Other">(</span><span class="Identifier">db</span><span class="Other">:</span> <a href="core/types.html#Database"><span class="Identifier">Database</span></a><span class="Other">[</span><span class="Identifier">Socket</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">name</span> <span class="Other">=</span> <span class="StringLit">&quot;fs&quot;</span><span class="Other">)</span><span class="Other">:</span> <a href="core/types.html#GridFS"><span class="Identifier">GridFS</span></a><span class="Other">[</span><span class="Identifier">Socket</span><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span>
    <span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">KeyError</span><span class="Other">,</span> <span class="Identifier">MongoError</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">SnappyError</span><span class="Other">,</span>
    <span class="Identifier">ZippyError</span><span class="Other">,</span> <span class="Identifier">SslError</span><span class="Other">,</span> <span class="Identifier">TimeoutError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Get bucket from existing database. If the bucket is not available, Mongo will implicitly create the files and chunks collections but without the necessary indexes.
&nbsp;&nbsp;<a
href="https://github.com/mashingan/anonimongo/tree/version-1-4/src/anonimongo/core/multisock.nim#L125"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mashingan/anonimongo/edit/devel/src/anonimongo/core/multisock.nim#L125" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="getBucket,Database[AsyncSocket],string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#getBucket%2CDatabase%5BAsyncSocket%5D%2Cstring"><span class="Identifier">getBucket</span></a><span class="Other">(</span><span class="Identifier">db</span><span class="Other">:</span> <a href="core/types.html#Database"><span class="Identifier">Database</span></a><span class="Other">[</span><span class="Identifier">AsyncSocket</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">name</span> <span class="Other">=</span> <span class="StringLit">&quot;fs&quot;</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span>
    <a href="core/types.html#GridFS"><span class="Identifier">GridFS</span></a><span class="Other">[</span><span class="Identifier">AsyncSocket</span><span class="Other">]</span><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span>
    <span class="Identifier">TimeEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Get bucket from existing database. If the bucket is not available, Mongo will implicitly create the files and chunks collections but without the necessary indexes.
&nbsp;&nbsp;<a
href="https://github.com/mashingan/anonimongo/tree/version-1-4/src/anonimongo/gridfs.nim#L53"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mashingan/anonimongo/edit/devel/src/anonimongo/gridfs.nim#L53" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="getBucket,Collection[Socket],string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#getBucket%2CCollection%5BSocket%5D%2Cstring"><span class="Identifier">getBucket</span></a><span class="Other">(</span><span class="Identifier">c</span><span class="Other">:</span> <a href="core/types.html#Collection"><span class="Identifier">Collection</span></a><span class="Other">[</span><span class="Identifier">Socket</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">name</span> <span class="Other">=</span> <span class="StringLit">&quot;fs&quot;</span><span class="Other">)</span><span class="Other">:</span> <a href="core/types.html#GridFS"><span class="Identifier">GridFS</span></a><span class="Other">[</span><span class="Identifier">Socket</span><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span>
    <span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">KeyError</span><span class="Other">,</span> <span class="Identifier">MongoError</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">SnappyError</span><span class="Other">,</span>
    <span class="Identifier">ZippyError</span><span class="Other">,</span> <span class="Identifier">SslError</span><span class="Other">,</span> <span class="Identifier">TimeoutError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/mashingan/anonimongo/tree/version-1-4/src/anonimongo/core/multisock.nim#L125"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mashingan/anonimongo/edit/devel/src/anonimongo/core/multisock.nim#L125" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="getBucket,Collection[AsyncSocket],string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#getBucket%2CCollection%5BAsyncSocket%5D%2Cstring"><span class="Identifier">getBucket</span></a><span class="Other">(</span><span class="Identifier">c</span><span class="Other">:</span> <a href="core/types.html#Collection"><span class="Identifier">Collection</span></a><span class="Other">[</span><span class="Identifier">AsyncSocket</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">name</span> <span class="Other">=</span> <span class="StringLit">&quot;fs&quot;</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span>
    <a href="core/types.html#GridFS"><span class="Identifier">GridFS</span></a><span class="Other">[</span><span class="Identifier">AsyncSocket</span><span class="Other">]</span><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span>
    <span class="Identifier">TimeEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/mashingan/anonimongo/tree/version-1-4/src/anonimongo/gridfs.nim#L79"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mashingan/anonimongo/edit/devel/src/anonimongo/gridfs.nim#L79" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="uploadFile,GridFS[Socket],AsyncFile,string,int32"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#uploadFile%2CGridFS%5BSocket%5D%2CAsyncFile%2Cstring%2Cint32"><span class="Identifier">uploadFile</span></a><span class="Other">(</span><span class="Identifier">g</span><span class="Other">:</span> <a href="core/types.html#GridFS"><span class="Identifier">GridFS</span></a><span class="Other">[</span><span class="Identifier">Socket</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">f</span><span class="Other">:</span> <span class="Identifier">AsyncFile</span><span class="Other">;</span> <span class="Identifier">filename</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span> <span class="Identifier">chunk</span> <span class="Other">=</span> <span class="DecNumber">0'i32</span><span class="Other">;</span>
                <span class="Identifier">metadata</span> <span class="Other">=</span> <span class="Identifier">bson</span><span class="Other">(</span><span class="Other">)</span><span class="Other">)</span><span class="Other">:</span> <a href="core/types.html#WriteResult"><span class="Identifier">WriteResult</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">KeyError</span><span class="Other">,</span>
    <span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">MongoError</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">SnappyError</span><span class="Other">,</span> <span class="Identifier">ZippyError</span><span class="Other">,</span>
    <span class="Identifier">SslError</span><span class="Other">,</span> <span class="Identifier">TimeoutError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">TimeEffect</span><span class="Other">,</span> <span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/mashingan/anonimongo/tree/version-1-4/src/anonimongo/core/multisock.nim#L125"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mashingan/anonimongo/edit/devel/src/anonimongo/core/multisock.nim#L125" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="uploadFile,GridFS[AsyncSocket],AsyncFile,string,int32"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#uploadFile%2CGridFS%5BAsyncSocket%5D%2CAsyncFile%2Cstring%2Cint32"><span class="Identifier">uploadFile</span></a><span class="Other">(</span><span class="Identifier">g</span><span class="Other">:</span> <a href="core/types.html#GridFS"><span class="Identifier">GridFS</span></a><span class="Other">[</span><span class="Identifier">AsyncSocket</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">f</span><span class="Other">:</span> <span class="Identifier">AsyncFile</span><span class="Other">;</span> <span class="Identifier">filename</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
                <span class="Identifier">chunk</span> <span class="Other">=</span> <span class="DecNumber">0'i32</span><span class="Other">;</span> <span class="Identifier">metadata</span> <span class="Other">=</span> <span class="Identifier">bson</span><span class="Other">(</span><span class="Other">)</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span><a href="core/types.html#WriteResult"><span class="Identifier">WriteResult</span></a><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">TimeEffect</span><span class="Other">,</span> <span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/mashingan/anonimongo/tree/version-1-4/src/anonimongo/gridfs.nim#L84"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mashingan/anonimongo/edit/devel/src/anonimongo/gridfs.nim#L84" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="uploadFile,GridFS[Socket],string,int32"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#uploadFile%2CGridFS%5BSocket%5D%2Cstring%2Cint32"><span class="Identifier">uploadFile</span></a><span class="Other">(</span><span class="Identifier">g</span><span class="Other">:</span> <a href="core/types.html#GridFS"><span class="Identifier">GridFS</span></a><span class="Other">[</span><span class="Identifier">Socket</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">filename</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">chunk</span> <span class="Other">=</span> <span class="DecNumber">0'i32</span><span class="Other">;</span>
                <span class="Identifier">metadata</span> <span class="Other">=</span> <span class="Identifier">bson</span><span class="Other">(</span><span class="Other">)</span><span class="Other">)</span><span class="Other">:</span> <a href="core/types.html#WriteResult"><span class="Identifier">WriteResult</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">,</span>
    <span class="Identifier">KeyError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">MongoError</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">SnappyError</span><span class="Other">,</span> <span class="Identifier">ZippyError</span><span class="Other">,</span>
    <span class="Identifier">SslError</span><span class="Other">,</span> <span class="Identifier">TimeoutError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

A higher uploadFile which directly open and close file from filename.
&nbsp;&nbsp;<a
href="https://github.com/mashingan/anonimongo/tree/version-1-4/src/anonimongo/core/multisock.nim#L125"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mashingan/anonimongo/edit/devel/src/anonimongo/core/multisock.nim#L125" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="uploadFile,GridFS[AsyncSocket],string,int32"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#uploadFile%2CGridFS%5BAsyncSocket%5D%2Cstring%2Cint32"><span class="Identifier">uploadFile</span></a><span class="Other">(</span><span class="Identifier">g</span><span class="Other">:</span> <a href="core/types.html#GridFS"><span class="Identifier">GridFS</span></a><span class="Other">[</span><span class="Identifier">AsyncSocket</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">filename</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">chunk</span> <span class="Other">=</span> <span class="DecNumber">0'i32</span><span class="Other">;</span>
                <span class="Identifier">metadata</span> <span class="Other">=</span> <span class="Identifier">bson</span><span class="Other">(</span><span class="Other">)</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span><a href="core/types.html#WriteResult"><span class="Identifier">WriteResult</span></a><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

A higher uploadFile which directly open and close file from filename.
&nbsp;&nbsp;<a
href="https://github.com/mashingan/anonimongo/tree/version-1-4/src/anonimongo/gridfs.nim#L159"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mashingan/anonimongo/edit/devel/src/anonimongo/gridfs.nim#L159" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="downloadFile,GridFS[Socket],AsyncFile,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#downloadFile%2CGridFS%5BSocket%5D%2CAsyncFile%2Cstring"><span class="Identifier">downloadFile</span></a><span class="Other">(</span><span class="Identifier">g</span><span class="Other">:</span> <a href="core/types.html#GridFS"><span class="Identifier">GridFS</span></a><span class="Other">[</span><span class="Identifier">Socket</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">f</span><span class="Other">:</span> <span class="Identifier">AsyncFile</span><span class="Other">;</span> <span class="Identifier">filename</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">)</span><span class="Other">:</span> <a href="core/types.html#WriteResult"><span class="Identifier">WriteResult</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span>
    <span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">KeyError</span><span class="Other">,</span> <span class="Identifier">MongoError</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">SnappyError</span><span class="Other">,</span>
    <span class="Identifier">ZippyError</span><span class="Other">,</span> <span class="Identifier">SslError</span><span class="Other">,</span> <span class="Identifier">TimeoutError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Download given filename and write it to f asyncfile. This only download the latest uploaded file in the same name.
&nbsp;&nbsp;<a
href="https://github.com/mashingan/anonimongo/tree/version-1-4/src/anonimongo/core/multisock.nim#L125"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mashingan/anonimongo/edit/devel/src/anonimongo/core/multisock.nim#L125" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="downloadFile,GridFS[AsyncSocket],AsyncFile,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#downloadFile%2CGridFS%5BAsyncSocket%5D%2CAsyncFile%2Cstring"><span class="Identifier">downloadFile</span></a><span class="Other">(</span><span class="Identifier">g</span><span class="Other">:</span> <a href="core/types.html#GridFS"><span class="Identifier">GridFS</span></a><span class="Other">[</span><span class="Identifier">AsyncSocket</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">f</span><span class="Other">:</span> <span class="Identifier">AsyncFile</span><span class="Other">;</span> <span class="Identifier">filename</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span>
    <a href="core/types.html#WriteResult"><span class="Identifier">WriteResult</span></a><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
                   <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Download given filename and write it to f asyncfile. This only download the latest uploaded file in the same name.
&nbsp;&nbsp;<a
href="https://github.com/mashingan/anonimongo/tree/version-1-4/src/anonimongo/gridfs.nim#L179"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mashingan/anonimongo/edit/devel/src/anonimongo/gridfs.nim#L179" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="downloadFile,GridFS[Socket],string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#downloadFile%2CGridFS%5BSocket%5D%2Cstring"><span class="Identifier">downloadFile</span></a><span class="Other">(</span><span class="Identifier">bucket</span><span class="Other">:</span> <a href="core/types.html#GridFS"><span class="Identifier">GridFS</span></a><span class="Other">[</span><span class="Identifier">Socket</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">filename</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span><span class="Other">:</span> <a href="core/types.html#WriteResult"><span class="Identifier">WriteResult</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span>
    <span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">KeyError</span><span class="Other">,</span> <span class="Identifier">MongoError</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">SnappyError</span><span class="Other">,</span>
    <span class="Identifier">ZippyError</span><span class="Other">,</span> <span class="Identifier">SslError</span><span class="Other">,</span> <span class="Identifier">TimeoutError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Higher version for downloadFile. Ensure the destination file path has writing permission
&nbsp;&nbsp;<a
href="https://github.com/mashingan/anonimongo/tree/version-1-4/src/anonimongo/core/multisock.nim#L125"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mashingan/anonimongo/edit/devel/src/anonimongo/core/multisock.nim#L125" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="downloadFile,GridFS[AsyncSocket],string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#downloadFile%2CGridFS%5BAsyncSocket%5D%2Cstring"><span class="Identifier">downloadFile</span></a><span class="Other">(</span><span class="Identifier">bucket</span><span class="Other">:</span> <a href="core/types.html#GridFS"><span class="Identifier">GridFS</span></a><span class="Other">[</span><span class="Identifier">AsyncSocket</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">filename</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span>
    <a href="core/types.html#WriteResult"><span class="Identifier">WriteResult</span></a><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
                   <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Higher version for downloadFile. Ensure the destination file path has writing permission
&nbsp;&nbsp;<a
href="https://github.com/mashingan/anonimongo/tree/version-1-4/src/anonimongo/gridfs.nim#L216"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mashingan/anonimongo/edit/devel/src/anonimongo/gridfs.nim#L216" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="downloadAs,GridFS[Socket],string,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#downloadAs%2CGridFS%5BSocket%5D%2Cstring%2Cstring"><span class="Identifier">downloadAs</span></a><span class="Other">(</span><span class="Identifier">g</span><span class="Other">:</span> <a href="core/types.html#GridFS"><span class="Identifier">GridFS</span></a><span class="Other">[</span><span class="Identifier">Socket</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">source</span><span class="Other">,</span> <span class="Identifier">target</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span><span class="Other">:</span> <a href="core/types.html#WriteResult"><span class="Identifier">WriteResult</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span>
    <span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">KeyError</span><span class="Other">,</span> <span class="Identifier">MongoError</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">SnappyError</span><span class="Other">,</span>
    <span class="Identifier">ZippyError</span><span class="Other">,</span> <span class="Identifier">SslError</span><span class="Other">,</span> <span class="Identifier">TimeoutError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

To download file as different file name.
&nbsp;&nbsp;<a
href="https://github.com/mashingan/anonimongo/tree/version-1-4/src/anonimongo/core/multisock.nim#L125"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mashingan/anonimongo/edit/devel/src/anonimongo/core/multisock.nim#L125" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="downloadAs,GridFS[AsyncSocket],string,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#downloadAs%2CGridFS%5BAsyncSocket%5D%2Cstring%2Cstring"><span class="Identifier">downloadAs</span></a><span class="Other">(</span><span class="Identifier">g</span><span class="Other">:</span> <a href="core/types.html#GridFS"><span class="Identifier">GridFS</span></a><span class="Other">[</span><span class="Identifier">AsyncSocket</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">source</span><span class="Other">,</span> <span class="Identifier">target</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span>
    <a href="core/types.html#WriteResult"><span class="Identifier">WriteResult</span></a><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
                   <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

To download file as different file name.
&nbsp;&nbsp;<a
href="https://github.com/mashingan/anonimongo/tree/version-1-4/src/anonimongo/gridfs.nim#L224"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mashingan/anonimongo/edit/devel/src/anonimongo/gridfs.nim#L224" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="availableFiles,GridFS[Socket]"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#availableFiles%2CGridFS%5BSocket%5D"><span class="Identifier">availableFiles</span></a><span class="Other">(</span><span class="Identifier">g</span><span class="Other">:</span> <a href="core/types.html#GridFS"><span class="Identifier">GridFS</span></a><span class="Other">[</span><span class="Identifier">Socket</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">query</span> <span class="Other">=</span> <span class="Identifier">bson</span><span class="Other">(</span><span class="Other">)</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span>
    <span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">KeyError</span><span class="Other">,</span> <span class="Identifier">MongoError</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">SnappyError</span><span class="Other">,</span>
    <span class="Identifier">ZippyError</span><span class="Other">,</span> <span class="Identifier">SslError</span><span class="Other">,</span> <span class="Identifier">TimeoutError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/mashingan/anonimongo/tree/version-1-4/src/anonimongo/core/multisock.nim#L125"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mashingan/anonimongo/edit/devel/src/anonimongo/core/multisock.nim#L125" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="availableFiles,GridFS[AsyncSocket]"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#availableFiles%2CGridFS%5BAsyncSocket%5D"><span class="Identifier">availableFiles</span></a><span class="Other">(</span><span class="Identifier">g</span><span class="Other">:</span> <a href="core/types.html#GridFS"><span class="Identifier">GridFS</span></a><span class="Other">[</span><span class="Identifier">AsyncSocket</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">query</span> <span class="Other">=</span> <span class="Identifier">bson</span><span class="Other">(</span><span class="Other">)</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span><span class="Identifier">int</span><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/mashingan/anonimongo/tree/version-1-4/src/anonimongo/gridfs.nim#L229"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mashingan/anonimongo/edit/devel/src/anonimongo/gridfs.nim#L229" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="listFileNames,GridFS[Socket]"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#listFileNames%2CGridFS%5BSocket%5D"><span class="Identifier">listFileNames</span></a><span class="Other">(</span><span class="Identifier">g</span><span class="Other">:</span> <a href="core/types.html#GridFS"><span class="Identifier">GridFS</span></a><span class="Other">[</span><span class="Identifier">Socket</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">matcher</span> <span class="Other">=</span> <span class="StringLit">&quot;all&quot;</span><span class="Other">.</span><span class="Identifier">toBson</span><span class="Other">;</span> <span class="Identifier">sort</span> <span class="Other">=</span> <span class="Identifier">bson</span><span class="Other">(</span><span class="Other">)</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span>
    <span class="Identifier">string</span><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">KeyError</span><span class="Other">,</span> <span class="Identifier">MongoError</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">,</span>
                       <span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">SnappyError</span><span class="Other">,</span> <span class="Identifier">ZippyError</span><span class="Other">,</span> <span class="Identifier">SslError</span><span class="Other">,</span> <span class="Identifier">TimeoutError</span><span class="Other">]</span><span class="Other">,</span>
              <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Retrieve available list filenames given matcher Bson. By default the matcher is BsonString &quot;all&quot; which return all available names. Sort to choose the order which criteria it's should be first/last. The matcher is elaborated explained <a class="reference external" href="#removeFile,GridFS,BsonBase,bool">removeFile</a> as it's using the same mechanism.
&nbsp;&nbsp;<a
href="https://github.com/mashingan/anonimongo/tree/version-1-4/src/anonimongo/core/multisock.nim#L125"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mashingan/anonimongo/edit/devel/src/anonimongo/core/multisock.nim#L125" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="listFileNames,GridFS[AsyncSocket]"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#listFileNames%2CGridFS%5BAsyncSocket%5D"><span class="Identifier">listFileNames</span></a><span class="Other">(</span><span class="Identifier">g</span><span class="Other">:</span> <a href="core/types.html#GridFS"><span class="Identifier">GridFS</span></a><span class="Other">[</span><span class="Identifier">AsyncSocket</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">matcher</span> <span class="Other">=</span> <span class="StringLit">&quot;all&quot;</span><span class="Other">.</span><span class="Identifier">toBson</span><span class="Other">;</span> <span class="Identifier">sort</span> <span class="Other">=</span> <span class="Identifier">bson</span><span class="Other">(</span><span class="Other">)</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span>
    <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
                   <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Retrieve available list filenames given matcher Bson. By default the matcher is BsonString &quot;all&quot; which return all available names. Sort to choose the order which criteria it's should be first/last. The matcher is elaborated explained <a class="reference external" href="#removeFile,GridFS,BsonBase,bool">removeFile</a> as it's using the same mechanism.
&nbsp;&nbsp;<a
href="https://github.com/mashingan/anonimongo/tree/version-1-4/src/anonimongo/gridfs.nim#L243"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mashingan/anonimongo/edit/devel/src/anonimongo/gridfs.nim#L243" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="removeFile,GridFS[Socket]"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#removeFile%2CGridFS%5BSocket%5D"><span class="Identifier">removeFile</span></a><span class="Other">(</span><span class="Identifier">g</span><span class="Other">:</span> <a href="core/types.html#GridFS"><span class="Identifier">GridFS</span></a><span class="Other">[</span><span class="Identifier">Socket</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">matcher</span> <span class="Other">=</span> <span class="StringLit">&quot;all&quot;</span><span class="Other">.</span><span class="Identifier">toBson</span><span class="Other">;</span> <span class="Identifier">one</span> <span class="Other">=</span> <span class="Identifier">false</span><span class="Other">)</span><span class="Other">:</span> <a href="core/types.html#WriteResult"><span class="Identifier">WriteResult</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span>
    <span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">KeyError</span><span class="Other">,</span> <span class="Identifier">MongoError</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">SnappyError</span><span class="Other">,</span>
    <span class="Identifier">ZippyError</span><span class="Other">,</span> <span class="Identifier">SslError</span><span class="Other">,</span> <span class="Identifier">TimeoutError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Remove available files that match with matcher. By default the matcher is BsonString &quot;all&quot; which remove all files. If it's not &quot;all&quot; and BsonString, it's matched for the filename and for specific finding, matcher can use the regex string e.g.<pre class="listing"><span class="Identifier">matcher</span> <span class="Operator">=</span> <span class="Identifier">bson</span><span class="Punctuation">(</span><span class="Punctuation">{</span>
  <span class="Identifier">filename</span><span class="Punctuation">:</span> <span class="Punctuation">{</span> <span class="StringLit">&quot;regex&quot;</span><span class="Punctuation">:</span> <span class="LongStringLit">&quot;&quot;&quot;_\d\.mkv$&quot;&quot;&quot;</span> <span class="Punctuation">}</span>
<span class="Punctuation">}</span><span class="Punctuation">)</span></pre><p>which looking for any filename that match the pattern i.e.</p>
<ul class="simple"><li>&quot;any_filename_but_aslong_have_1.mkv&quot;</li>
<li>&quot;this is ok too_2.mkv&quot;</li>
<li>&quot;also this is ok_3.mkv&quot;</li>
</ul>
<p>For example removing all mkv files, the matcher would be</p>
<pre class="listing"><span class="Identifier">matcher</span> <span class="Operator">=</span> <span class="Identifier">bson</span><span class="Punctuation">(</span><span class="Punctuation">{</span> <span class="Identifier">metadata</span><span class="Punctuation">:</span> <span class="Punctuation">{</span> <span class="Identifier">ext</span><span class="Punctuation">:</span> <span class="StringLit">&quot;mkv&quot;</span> <span class="Punctuation">}</span><span class="Punctuation">}</span><span class="Punctuation">)</span></pre>
&nbsp;&nbsp;<a
href="https://github.com/mashingan/anonimongo/tree/version-1-4/src/anonimongo/core/multisock.nim#L125"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mashingan/anonimongo/edit/devel/src/anonimongo/core/multisock.nim#L125" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="removeFile,GridFS[AsyncSocket]"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#removeFile%2CGridFS%5BAsyncSocket%5D"><span class="Identifier">removeFile</span></a><span class="Other">(</span><span class="Identifier">g</span><span class="Other">:</span> <a href="core/types.html#GridFS"><span class="Identifier">GridFS</span></a><span class="Other">[</span><span class="Identifier">AsyncSocket</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">matcher</span> <span class="Other">=</span> <span class="StringLit">&quot;all&quot;</span><span class="Other">.</span><span class="Identifier">toBson</span><span class="Other">;</span> <span class="Identifier">one</span> <span class="Other">=</span> <span class="Identifier">false</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span>
    <a href="core/types.html#WriteResult"><span class="Identifier">WriteResult</span></a><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
                   <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Remove available files that match with matcher. By default the matcher is BsonString &quot;all&quot; which remove all files. If it's not &quot;all&quot; and BsonString, it's matched for the filename and for specific finding, matcher can use the regex string e.g.<pre class="listing"><span class="Identifier">matcher</span> <span class="Operator">=</span> <span class="Identifier">bson</span><span class="Punctuation">(</span><span class="Punctuation">{</span>
  <span class="Identifier">filename</span><span class="Punctuation">:</span> <span class="Punctuation">{</span> <span class="StringLit">&quot;regex&quot;</span><span class="Punctuation">:</span> <span class="LongStringLit">&quot;&quot;&quot;_\d\.mkv$&quot;&quot;&quot;</span> <span class="Punctuation">}</span>
<span class="Punctuation">}</span><span class="Punctuation">)</span></pre><p>which looking for any filename that match the pattern i.e.</p>
<ul class="simple"><li>&quot;any_filename_but_aslong_have_1.mkv&quot;</li>
<li>&quot;this is ok too_2.mkv&quot;</li>
<li>&quot;also this is ok_3.mkv&quot;</li>
</ul>
<p>For example removing all mkv files, the matcher would be</p>
<pre class="listing"><span class="Identifier">matcher</span> <span class="Operator">=</span> <span class="Identifier">bson</span><span class="Punctuation">(</span><span class="Punctuation">{</span> <span class="Identifier">metadata</span><span class="Punctuation">:</span> <span class="Punctuation">{</span> <span class="Identifier">ext</span><span class="Punctuation">:</span> <span class="StringLit">&quot;mkv&quot;</span> <span class="Punctuation">}</span><span class="Punctuation">}</span><span class="Punctuation">)</span></pre>
&nbsp;&nbsp;<a
href="https://github.com/mashingan/anonimongo/tree/version-1-4/src/anonimongo/gridfs.nim#L278"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mashingan/anonimongo/edit/devel/src/anonimongo/gridfs.nim#L278" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="drop,GridFS[Socket]"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#drop%2CGridFS%5BSocket%5D"><span class="Identifier">drop</span></a><span class="Other">(</span><span class="Identifier">g</span><span class="Other">:</span> <a href="core/types.html#GridFS"><span class="Identifier">GridFS</span></a><span class="Other">[</span><span class="Identifier">Socket</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="core/types.html#WriteResult"><span class="Identifier">WriteResult</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">KeyError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">,</span>
    <span class="Identifier">MongoError</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">SnappyError</span><span class="Other">,</span> <span class="Identifier">ZippyError</span><span class="Other">,</span> <span class="Identifier">SslError</span><span class="Other">,</span>
    <span class="Identifier">TimeoutError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">,</span> <span class="Identifier">RootEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Drop the current bucket name.
&nbsp;&nbsp;<a
href="https://github.com/mashingan/anonimongo/tree/version-1-4/src/anonimongo/core/multisock.nim#L125"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mashingan/anonimongo/edit/devel/src/anonimongo/core/multisock.nim#L125" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="drop,GridFS[AsyncSocket]"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#drop%2CGridFS%5BAsyncSocket%5D"><span class="Identifier">drop</span></a><span class="Other">(</span><span class="Identifier">g</span><span class="Other">:</span> <a href="core/types.html#GridFS"><span class="Identifier">GridFS</span></a><span class="Other">[</span><span class="Identifier">AsyncSocket</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span><a href="core/types.html#WriteResult"><span class="Identifier">WriteResult</span></a><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Drop the current bucket name.
&nbsp;&nbsp;<a
href="https://github.com/mashingan/anonimongo/tree/version-1-4/src/anonimongo/gridfs.nim#L324"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mashingan/anonimongo/edit/devel/src/anonimongo/gridfs.nim#L324" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="close,GridStream"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#close%2CGridStream"><span class="Identifier">close</span></a><span class="Other">(</span><span class="Identifier">gs</span><span class="Other">:</span> <a href="gridfs.html#GridStream"><span class="Identifier">GridStream</span></a><span class="Other">)</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/mashingan/anonimongo/tree/version-1-4/src/anonimongo/gridfs.nim#L359"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mashingan/anonimongo/edit/devel/src/anonimongo/gridfs.nim#L359" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="setPosition,GridStream[Socket],int64"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#setPosition%2CGridStream%5BSocket%5D%2Cint64"><span class="Identifier">setPosition</span></a><span class="Other">(</span><span class="Identifier">gs</span><span class="Other">:</span> <a href="gridfs.html#GridStream"><span class="Identifier">GridStream</span></a><span class="Other">[</span><span class="Identifier">Socket</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">pos</span><span class="Other">:</span> <span class="Identifier">int64</span><span class="Other">;</span> <span class="Identifier">chunkn</span> <span class="Other">=</span> <span class="Operator">-</span><span class="DecNumber">1</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span>
    <span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">KeyError</span><span class="Other">,</span> <span class="Identifier">MongoError</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">SnappyError</span><span class="Other">,</span>
    <span class="Identifier">ZippyError</span><span class="Other">,</span> <span class="Identifier">SslError</span><span class="Other">,</span> <span class="Identifier">TimeoutError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/mashingan/anonimongo/tree/version-1-4/src/anonimongo/core/multisock.nim#L125"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mashingan/anonimongo/edit/devel/src/anonimongo/core/multisock.nim#L125" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="setPosition,GridStream[AsyncSocket],int64"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#setPosition%2CGridStream%5BAsyncSocket%5D%2Cint64"><span class="Identifier">setPosition</span></a><span class="Other">(</span><span class="Identifier">gs</span><span class="Other">:</span> <a href="gridfs.html#GridStream"><span class="Identifier">GridStream</span></a><span class="Other">[</span><span class="Identifier">AsyncSocket</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">pos</span><span class="Other">:</span> <span class="Identifier">int64</span><span class="Other">;</span> <span class="Identifier">chunkn</span> <span class="Other">=</span> <span class="Operator">-</span><span class="DecNumber">1</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">owned</span><span class="Other">(</span>
    <span class="Identifier">Future</span><span class="Other">[</span><span class="Identifier">void</span><span class="Other">]</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">]</span><span class="Other">,</span>
                    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/mashingan/anonimongo/tree/version-1-4/src/anonimongo/gridfs.nim#L375"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mashingan/anonimongo/edit/devel/src/anonimongo/gridfs.nim#L375" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="read,GridStream[Socket],int64"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#read%2CGridStream%5BSocket%5D%2Cint64"><span class="Identifier">read</span></a><span class="Other">(</span><span class="Identifier">gs</span><span class="Other">:</span> <a href="gridfs.html#GridStream"><span class="Identifier">GridStream</span></a><span class="Other">[</span><span class="Identifier">Socket</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">length</span> <span class="Other">=</span> <span class="DecNumber">0'i64</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">,</span>
    <span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">KeyError</span><span class="Other">,</span> <span class="Identifier">MongoError</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">SnappyError</span><span class="Other">,</span> <span class="Identifier">ZippyError</span><span class="Other">,</span>
    <span class="Identifier">SslError</span><span class="Other">,</span> <span class="Identifier">TimeoutError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/mashingan/anonimongo/tree/version-1-4/src/anonimongo/core/multisock.nim#L125"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mashingan/anonimongo/edit/devel/src/anonimongo/core/multisock.nim#L125" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="read,GridStream[AsyncSocket],int64"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#read%2CGridStream%5BAsyncSocket%5D%2Cint64"><span class="Identifier">read</span></a><span class="Other">(</span><span class="Identifier">gs</span><span class="Other">:</span> <a href="gridfs.html#GridStream"><span class="Identifier">GridStream</span></a><span class="Other">[</span><span class="Identifier">AsyncSocket</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">length</span> <span class="Other">=</span> <span class="DecNumber">0'i64</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/mashingan/anonimongo/tree/version-1-4/src/anonimongo/gridfs.nim#L389"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mashingan/anonimongo/edit/devel/src/anonimongo/gridfs.nim#L389" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="readAll,GridStream[Socket]"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#readAll%2CGridStream%5BSocket%5D"><span class="Identifier">readAll</span></a><span class="Other">(</span><span class="Identifier">gs</span><span class="Other">:</span> <a href="gridfs.html#GridStream"><span class="Identifier">GridStream</span></a><span class="Other">[</span><span class="Identifier">Socket</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">,</span>
    <span class="Identifier">KeyError</span><span class="Other">,</span> <span class="Identifier">MongoError</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">SnappyError</span><span class="Other">,</span> <span class="Identifier">ZippyError</span><span class="Other">,</span> <span class="Identifier">SslError</span><span class="Other">,</span>
    <span class="Identifier">TimeoutError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/mashingan/anonimongo/tree/version-1-4/src/anonimongo/core/multisock.nim#L125"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mashingan/anonimongo/edit/devel/src/anonimongo/core/multisock.nim#L125" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="readAll,GridStream[AsyncSocket]"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#readAll%2CGridStream%5BAsyncSocket%5D"><span class="Identifier">readAll</span></a><span class="Other">(</span><span class="Identifier">gs</span><span class="Other">:</span> <a href="gridfs.html#GridStream"><span class="Identifier">GridStream</span></a><span class="Other">[</span><span class="Identifier">AsyncSocket</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/mashingan/anonimongo/tree/version-1-4/src/anonimongo/gridfs.nim#L412"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mashingan/anonimongo/edit/devel/src/anonimongo/gridfs.nim#L412" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="getStream,GridFS[Socket],BsonBase"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#getStream%2CGridFS%5BSocket%5D%2CBsonBase"><span class="Identifier">getStream</span></a><span class="Other">(</span><span class="Identifier">g</span><span class="Other">:</span> <a href="core/types.html#GridFS"><span class="Identifier">GridFS</span></a><span class="Other">[</span><span class="Identifier">Socket</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">matcher</span><span class="Other">:</span> <a href="core/bson.html#BsonBase"><span class="Identifier">BsonBase</span></a><span class="Other">;</span> <span class="Identifier">sort</span> <span class="Other">=</span> <span class="Identifier">bson</span><span class="Other">(</span><span class="Other">)</span><span class="Other">;</span>
               <span class="Identifier">buffered</span> <span class="Other">=</span> <span class="Identifier">false</span><span class="Other">)</span><span class="Other">:</span> <a href="gridfs.html#GridStream"><span class="Identifier">GridStream</span></a><span class="Other">[</span><span class="Identifier">Socket</span><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">,</span>
    <span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">KeyError</span><span class="Other">,</span> <span class="Identifier">MongoError</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">SnappyError</span><span class="Other">,</span> <span class="Identifier">ZippyError</span><span class="Other">,</span>
    <span class="Identifier">SslError</span><span class="Other">,</span> <span class="Identifier">TimeoutError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/mashingan/anonimongo/tree/version-1-4/src/anonimongo/core/multisock.nim#L125"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mashingan/anonimongo/edit/devel/src/anonimongo/core/multisock.nim#L125" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="getStream,GridFS[AsyncSocket],BsonBase"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#getStream%2CGridFS%5BAsyncSocket%5D%2CBsonBase"><span class="Identifier">getStream</span></a><span class="Other">(</span><span class="Identifier">g</span><span class="Other">:</span> <a href="core/types.html#GridFS"><span class="Identifier">GridFS</span></a><span class="Other">[</span><span class="Identifier">AsyncSocket</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">matcher</span><span class="Other">:</span> <a href="core/bson.html#BsonBase"><span class="Identifier">BsonBase</span></a><span class="Other">;</span> <span class="Identifier">sort</span> <span class="Other">=</span> <span class="Identifier">bson</span><span class="Other">(</span><span class="Other">)</span><span class="Other">;</span>
               <span class="Identifier">buffered</span> <span class="Other">=</span> <span class="Identifier">false</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Future</span><span class="Other">[</span><a href="gridfs.html#GridStream"><span class="Identifier">GridStream</span></a><span class="Other">[</span><span class="Identifier">AsyncSocket</span><span class="Other">]</span><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/mashingan/anonimongo/tree/version-1-4/src/anonimongo/gridfs.nim#L417"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mashingan/anonimongo/edit/devel/src/anonimongo/gridfs.nim#L417" class="link-seesrc" target="_blank" >Edit</a>

</dd>

</dl></div>
<div class="section" id="13">
<h1><a class="toc-backref" href="#13">Funcs</a></h1>
<dl class="item">
<a id="kilobytes,Positive"></a>
<dt><pre><span class="Keyword">func</span> <a href="#kilobytes%2CPositive"><span class="Identifier">kilobytes</span></a><span class="Other">(</span><span class="Identifier">n</span><span class="Other">:</span> <span class="Identifier">Positive</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/mashingan/anonimongo/tree/version-1-4/src/anonimongo/gridfs.nim#L10"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mashingan/anonimongo/edit/devel/src/anonimongo/gridfs.nim#L10" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="megabytes,Positive"></a>
<dt><pre><span class="Keyword">func</span> <a href="#megabytes%2CPositive"><span class="Identifier">megabytes</span></a><span class="Other">(</span><span class="Identifier">n</span><span class="Other">:</span> <span class="Identifier">Positive</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/mashingan/anonimongo/tree/version-1-4/src/anonimongo/gridfs.nim#L11"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mashingan/anonimongo/edit/devel/src/anonimongo/gridfs.nim#L11" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="fileSize,GridStream"></a>
<dt><pre><span class="Keyword">func</span> <a href="#fileSize%2CGridStream"><span class="Identifier">fileSize</span></a><span class="Other">(</span><span class="Identifier">gs</span><span class="Other">:</span> <a href="gridfs.html#GridStream"><span class="Identifier">GridStream</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int64</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/mashingan/anonimongo/tree/version-1-4/src/anonimongo/gridfs.nim#L356"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mashingan/anonimongo/edit/devel/src/anonimongo/gridfs.nim#L356" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="metadata,GridStream"></a>
<dt><pre><span class="Keyword">func</span> <a href="#metadata%2CGridStream"><span class="Identifier">metadata</span></a><span class="Other">(</span><span class="Identifier">gs</span><span class="Other">:</span> <a href="gridfs.html#GridStream"><span class="Identifier">GridStream</span></a><span class="Other">)</span><span class="Other">:</span> <a href="core/bson.html#BsonDocument"><span class="Identifier">BsonDocument</span></a></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/mashingan/anonimongo/tree/version-1-4/src/anonimongo/gridfs.nim#L357"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mashingan/anonimongo/edit/devel/src/anonimongo/gridfs.nim#L357" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="getPosition,GridStream"></a>
<dt><pre><span class="Keyword">func</span> <a href="#getPosition%2CGridStream"><span class="Identifier">getPosition</span></a><span class="Other">(</span><span class="Identifier">gs</span><span class="Other">:</span> <a href="gridfs.html#GridStream"><span class="Identifier">GridStream</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int64</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/mashingan/anonimongo/tree/version-1-4/src/anonimongo/gridfs.nim#L387"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mashingan/anonimongo/edit/devel/src/anonimongo/gridfs.nim#L387" class="link-seesrc" target="_blank" >Edit</a>

</dd>

</dl></div>

  </div>
</div>

    <div class="row">
      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br/>
        <small style="color: var(--hint);">Made with Nim. Generated: 2022-09-12 22:00:48 UTC</small>
      </div>
    </div>
  </div>
</div>

</body>
</html>
